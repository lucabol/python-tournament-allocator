============================= test session starts =============================
platform win32 -- Python 3.13.12, pytest-8.4.2, pluggy-1.5.0 -- C:\Users\lucabol\AppData\Local\Programs\Python\Python313\python.exe
cachedir: .pytest_cache
benchmark: 5.2.3 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: C:\Users\lucabol\dev\python-tournament-allocator
plugins: anyio-4.10.0, langsmith-0.3.45, asyncio-0.23.8, benchmark-5.2.3, cov-4.1.0, mock-3.15.1, timeout-2.4.0
asyncio: mode=Mode.STRICT
collecting ... collected 174 items

tests/test_allocation.py::TestAllocationManagerHelpers::test_parse_time PASSED [  0%]
tests/test_allocation.py::TestAllocationManagerHelpers::test_datetime_from_time PASSED [  1%]
tests/test_allocation.py::TestCourtAvailability::test_court_available_empty_schedule PASSED [  1%]
tests/test_allocation.py::TestCourtAvailability::test_court_unavailable_before_open PASSED [  2%]
tests/test_allocation.py::TestCourtAvailability::test_court_unavailable_when_booked PASSED [  2%]
tests/test_allocation.py::TestCourtAvailability::test_court_available_adjacent_slot PASSED [  3%]
tests/test_allocation.py::TestCourtAvailability::test_court_unavailable_after_end_time PASSED [  4%]
tests/test_allocation.py::TestCourtAvailability::test_court_available_before_end_time PASSED [  4%]
tests/test_allocation.py::TestCourtAvailability::test_court_no_end_time_allows_all_times PASSED [  5%]
tests/test_allocation.py::TestTeamConstraints::test_play_after_constraint_satisfied PASSED [  5%]
tests/test_allocation.py::TestTeamConstraints::test_play_after_constraint_violated PASSED [  6%]
tests/test_allocation.py::TestTeamConstraints::test_play_before_constraint_satisfied PASSED [  6%]
tests/test_allocation.py::TestTeamConstraints::test_play_before_constraint_violated PASSED [  7%]
tests/test_allocation.py::TestTeamConstraints::test_no_overlapping_matches_for_same_team PASSED [  8%]
tests/test_allocation.py::TestTeamConstraints::test_minimum_break_between_matches_satisfied PASSED [  8%]
tests/test_allocation.py::TestTeamConstraints::test_minimum_break_between_matches_violated PASSED [  9%]
tests/test_allocation.py::TestTeamOverlap::test_no_overlap_empty_schedule PASSED [  9%]
tests/test_allocation.py::TestTeamOverlap::test_overlap_detected PASSED  [ 10%]
tests/test_allocation.py::TestTeamOverlap::test_no_overlap_different_teams PASSED [ 10%]
tests/test_allocation.py::TestScheduleOutput::test_get_schedule_output_empty PASSED [ 11%]
tests/test_allocation.py::TestScheduleOutput::test_get_schedule_output_with_matches PASSED [ 12%]
tests/test_app.py::TestLoadTeams::test_load_teams_normalizes_old_format PASSED [ 12%]
tests/test_app.py::TestLoadTeams::test_load_teams_preserves_new_format PASSED [ 13%]
tests/test_app.py::TestLoadTeams::test_load_teams_empty_file PASSED      [ 13%]
tests/test_app.py::TestLoadTeams::test_load_teams_missing_file PASSED    [ 14%]
tests/test_app.py::TestSaveTeams::test_save_teams_new_format PASSED      [ 14%]
tests/test_app.py::TestTeamsRoutes::test_add_pool_with_advance_count PASSED [ 15%]
tests/test_app.py::TestTeamsRoutes::test_add_pool_default_advance_count PASSED [ 16%]
tests/test_app.py::TestTeamsRoutes::test_update_advance_count PASSED     [ 16%]
tests/test_app.py::TestTeamsRoutes::test_add_team_to_new_format_pool PASSED [ 17%]
tests/test_app.py::TestTeamsRoutes::test_delete_team_preserves_advance PASSED [ 17%]
tests/test_app.py::TestTeamsRoutes::test_edit_team_name PASSED           [ 18%]
tests/test_app.py::TestTeamsRoutes::test_edit_team_name_duplicate_error PASSED [ 18%]
tests/test_app.py::TestTeamsRoutes::test_duplicate_pool_shows_error PASSED [ 19%]
tests/test_app.py::TestTeamsRoutes::test_duplicate_team_shows_error PASSED [ 20%]
tests/test_app.py::TestIndexRoute::test_index_shows_total_teams PASSED   [ 20%]
tests/test_app.py::TestCourtsRoutes::test_edit_court_name PASSED         [ 21%]
tests/test_app.py::TestCourtsRoutes::test_edit_court_duplicate_error PASSED [ 21%]
tests/test_app.py::TestSettingsRoute::test_settings_lists_all_teams PASSED [ 22%]
tests/test_app.py::TestLiveRoute::test_live_page_loads PASSED            [ 22%]
tests/test_app.py::TestLiveRoute::test_live_page_shows_empty_state PASSED [ 23%]
tests/test_app.py::TestLiveRoute::test_live_page_shows_standings PASSED  [ 24%]
tests/test_app.py::TestLiveRoute::test_live_page_has_sse PASSED          [ 24%]
tests/test_app.py::TestLiveRoute::test_live_page_is_read_only PASSED     [ 25%]
tests/test_app.py::TestLiveSSE::test_live_html_returns_partial PASSED    [ 25%]
tests/test_app.py::TestLiveSSE::test_live_html_shows_standings PASSED    [ 26%]
tests/test_app.py::TestLiveSSE::test_live_stream_returns_event_stream PASSED [ 27%]
tests/test_app.py::TestDetermineTournamentPhase::test_setup_when_no_schedule PASSED [ 27%]
tests/test_app.py::TestDetermineTournamentPhase::test_pool_play_when_schedule_exists_but_no_results PASSED [ 28%]
tests/test_app.py::TestDetermineTournamentPhase::test_pool_play_when_some_results PASSED [ 28%]
tests/test_app.py::TestDetermineTournamentPhase::test_bracket_when_all_pool_results_in PASSED [ 29%]
tests/test_app.py::TestDetermineTournamentPhase::test_bracket_when_bracket_results_exist PASSED [ 29%]
tests/test_app.py::TestDetermineTournamentPhase::test_complete_when_champion_determined PASSED [ 30%]
tests/test_app.py::TestCalculateMatchStats::test_no_completed_matches_returns_none PASSED [ 31%]
tests/test_app.py::TestCalculateMatchStats::test_single_completed_match PASSED [ 31%]
tests/test_app.py::TestCalculateMatchStats::test_multiple_matches_finds_extremes PASSED [ 32%]
tests/test_app.py::TestEnhancedDashboard::test_dashboard_loads_with_no_data PASSED [ 32%]
tests/test_app.py::TestEnhancedDashboard::test_dashboard_shows_phase_indicator PASSED [ 33%]
tests/test_app.py::TestEnhancedDashboard::test_dashboard_shows_tournament_header PASSED [ 33%]
tests/test_app.py::TestEnhancedDashboard::test_dashboard_shows_standings_when_results_exist PASSED [ 34%]
tests/test_app.py::TestEnhancedDashboard::test_dashboard_shows_export_bar PASSED [ 35%]
tests/test_app.py::TestExportScheduleCSV::test_csv_export_no_schedule PASSED [ 35%]
tests/test_app.py::TestExportScheduleCSV::test_csv_export_returns_csv PASSED [ 36%]
tests/test_app.py::TestExportTournament::test_export_returns_zip PASSED  [ 36%]
tests/test_app.py::TestExportTournament::test_export_contains_existing_files PASSED [ 37%]
tests/test_app.py::TestExportTournament::test_export_excludes_missing_files PASSED [ 37%]
tests/test_app.py::TestExportTournament::test_export_includes_logo PASSED [ 38%]
tests/test_app.py::TestExportTournament::test_export_attachment_filename PASSED [ 39%]
tests/test_app.py::TestImportTournament::test_import_valid_zip PASSED    [ 39%]
tests/test_app.py::TestImportTournament::test_import_no_file PASSED      [ 40%]
tests/test_app.py::TestImportTournament::test_import_invalid_file PASSED [ 40%]
tests/test_app.py::TestImportTournament::test_import_rejects_unknown_zip PASSED [ 41%]
tests/test_app.py::TestImportTournament::test_import_rejects_path_traversal PASSED [ 41%]
tests/test_app.py::TestImportTournament::test_import_overwrites_existing PASSED [ 42%]
tests/test_app.py::TestImportTournament::test_import_handles_logo PASSED [ 43%]
tests/test_app.py::TestImportTournament::test_roundtrip_export_import PASSED [ 43%]
tests/test_double_elimination.py::TestLosersRoundName::test_losers_final PASSED [ 44%]
tests/test_double_elimination.py::TestLosersRoundName::test_losers_semifinal PASSED [ 44%]
tests/test_double_elimination.py::TestLosersRoundName::test_losers_numbered_round PASSED [ 45%]
tests/test_double_elimination.py::TestWinnersRoundName::test_winners_final PASSED [ 45%]
tests/test_double_elimination.py::TestWinnersRoundName::test_winners_semifinal PASSED [ 46%]
tests/test_double_elimination.py::TestWinnersRoundName::test_winners_quarterfinal PASSED [ 47%]
tests/test_double_elimination.py::TestWinnersRoundName::test_winners_round_of_n PASSED [ 47%]
tests/test_double_elimination.py::TestCalculateLosersRounds::test_no_teams PASSED [ 48%]
tests/test_double_elimination.py::TestCalculateLosersRounds::test_four_teams PASSED [ 48%]
tests/test_double_elimination.py::TestCalculateLosersRounds::test_eight_teams PASSED [ 49%]
tests/test_double_elimination.py::TestCalculateLosersRounds::test_sixteen_teams PASSED [ 50%]
tests/test_double_elimination.py::TestCalculateLosersRounds::test_two_teams PASSED [ 50%]
tests/test_double_elimination.py::TestGenerateDoubleEliminationBracket::test_empty_pools PASSED [ 51%]
tests/test_double_elimination.py::TestGenerateDoubleEliminationBracket::test_single_team PASSED [ 51%]
tests/test_double_elimination.py::TestGenerateDoubleEliminationBracket::test_two_teams PASSED [ 52%]
tests/test_double_elimination.py::TestGenerateDoubleEliminationBracket::test_four_teams PASSED [ 52%]
tests/test_double_elimination.py::TestGenerateDoubleEliminationBracket::test_grand_final_present PASSED [ 53%]
tests/test_double_elimination.py::TestGenerateDoubleEliminationBracket::test_bracket_reset_present PASSED [ 54%]
tests/test_double_elimination.py::TestGenerateDoubleEliminationBracket::test_seeding_order PASSED [ 54%]
tests/test_double_elimination.py::TestGenerateWinnersBracket::test_four_teams_winners_bracket PASSED [ 55%]
tests/test_double_elimination.py::TestGenerateWinnersBracket::test_bye_handling PASSED [ 55%]
tests/test_double_elimination.py::TestGenerateLosersRracket::test_four_team_losers_bracket PASSED [ 56%]
tests/test_double_elimination.py::TestGenerateLosersRracket::test_losers_bracket_has_notes PASSED [ 56%]
tests/test_double_elimination.py::TestGenerateMatchesForScheduling::test_empty_pools PASSED [ 57%]
tests/test_double_elimination.py::TestGenerateMatchesForScheduling::test_only_first_round_winners PASSED [ 58%]
tests/test_double_elimination.py::TestGenerateMatchesForScheduling::test_excludes_byes PASSED [ 58%]
tests/test_double_elimination.py::TestGenerateMatchesForScheduling::test_match_format PASSED [ 59%]
tests/test_double_elimination.py::TestGetDisplayData::test_empty_pools PASSED [ 59%]
tests/test_double_elimination.py::TestGetDisplayData::test_all_fields_present PASSED [ 60%]
tests/test_double_elimination.py::TestGetDisplayData::test_total_teams_correct PASSED [ 60%]
tests/test_double_elimination.py::TestGetDisplayData::test_total_matches_calculation PASSED [ 61%]
tests/test_double_elimination.py::TestDoubleEliminationIntegration::test_full_tournament_flow PASSED [ 62%]
tests/test_double_elimination.py::TestDoubleEliminationIntegration::test_byes_assigned_to_top_seeds PASSED [ 62%]
tests/test_double_elimination.py::TestDoubleEliminationIntegration::test_scheduling_matches PASSED [ 63%]
tests/test_double_elimination.py::TestEdgeCases::test_single_pool_all_advance PASSED [ 63%]
tests/test_double_elimination.py::TestEdgeCases::test_many_pools_few_advance PASSED [ 64%]
tests/test_double_elimination.py::TestEdgeCases::test_large_bracket PASSED [ 64%]
tests/test_elimination.py::TestBracketHelpers::test_get_round_name_final PASSED [ 65%]
tests/test_elimination.py::TestBracketHelpers::test_get_round_name_semifinal PASSED [ 66%]
tests/test_elimination.py::TestBracketHelpers::test_get_round_name_quarterfinal PASSED [ 66%]
tests/test_elimination.py::TestBracketHelpers::test_get_round_name_round_of_16 PASSED [ 67%]
tests/test_elimination.py::TestBracketHelpers::test_calculate_bracket_size_exact_power PASSED [ 67%]
tests/test_elimination.py::TestBracketHelpers::test_calculate_bracket_size_not_power PASSED [ 68%]
tests/test_elimination.py::TestBracketHelpers::test_calculate_bracket_size_small PASSED [ 68%]
tests/test_elimination.py::TestBracketHelpers::test_calculate_bracket_size_zero PASSED [ 69%]
tests/test_elimination.py::TestBracketHelpers::test_calculate_byes_no_byes PASSED [ 70%]
tests/test_elimination.py::TestBracketHelpers::test_calculate_byes_needed PASSED [ 70%]
tests/test_elimination.py::TestBracketOrder::test_bracket_order_2_teams PASSED [ 71%]
tests/test_elimination.py::TestBracketOrder::test_bracket_order_4_teams PASSED [ 71%]
tests/test_elimination.py::TestBracketOrder::test_bracket_order_8_teams PASSED [ 72%]
tests/test_elimination.py::TestBracketOrder::test_bracket_order_preserves_seeding PASSED [ 72%]
tests/test_elimination.py::TestSeedTeamsFromPools::test_seed_teams_simple PASSED [ 73%]
tests/test_elimination.py::TestSeedTeamsFromPools::test_seed_teams_ordering PASSED [ 74%]
tests/test_elimination.py::TestSeedTeamsFromPools::test_seed_teams_empty_pools PASSED [ 74%]
tests/test_elimination.py::TestSeedTeamsFromPools::test_seed_teams_different_advance_counts PASSED [ 75%]
tests/test_elimination.py::TestCreateBracketMatchups::test_create_matchups_4_teams PASSED [ 75%]
tests/test_elimination.py::TestCreateBracketMatchups::test_create_matchups_with_byes PASSED [ 76%]
tests/test_elimination.py::TestCreateBracketMatchups::test_create_matchups_no_teams PASSED [ 77%]
tests/test_elimination.py::TestCreateBracketMatchups::test_create_matchups_single_team PASSED [ 77%]
tests/test_elimination.py::TestGenerateEliminationRounds::test_generate_rounds_basic PASSED [ 78%]
tests/test_elimination.py::TestGenerateEliminationRounds::test_generate_rounds_includes_all_rounds PASSED [ 78%]
tests/test_elimination.py::TestGenerateEliminationRounds::test_generate_rounds_empty_pools PASSED [ 79%]
tests/test_elimination.py::TestGenerateEliminationMatchesForScheduling::test_generate_scheduling_format PASSED [ 79%]
tests/test_elimination.py::TestGenerateEliminationMatchesForScheduling::test_generate_scheduling_excludes_byes PASSED [ 80%]
tests/test_elimination.py::TestGetEliminationBracketDisplay::test_display_data_structure PASSED [ 81%]
tests/test_elimination.py::TestGetEliminationBracketDisplay::test_display_matches_count PASSED [ 81%]
tests/test_elimination.py::TestEliminationIntegration::test_full_workflow_8_teams PASSED [ 82%]
tests/test_elimination.py::TestEliminationIntegration::test_full_workflow_6_teams PASSED [ 82%]
tests/test_generate_matches.py::TestMatchGeneration::test_generate_matches_simple_pool PASSED [ 83%]
tests/test_generate_matches.py::TestMatchGeneration::test_generate_matches_multiple_pools PASSED [ 83%]
tests/test_generate_matches.py::TestMatchGeneration::test_generate_matches_pool_assignment PASSED [ 84%]
tests/test_generate_matches.py::TestMatchGeneration::test_generate_matches_large_pool PASSED [ 85%]
tests/test_generate_matches.py::TestMatchGeneration::test_generate_matches_single_team_pool PASSED [ 85%]
tests/test_generate_matches.py::TestMatchGeneration::test_generate_matches_empty_input PASSED [ 86%]
tests/test_generate_matches.py::TestMatchGeneration::test_generate_matches_correct_number PASSED [ 86%]
tests/test_generate_matches.py::TestLoadTeams::test_load_teams_from_file PASSED [ 87%]
tests/test_generate_matches.py::TestLoadTeams::test_load_teams_empty_file PASSED [ 87%]
tests/test_generate_matches.py::TestLoadTeams::test_load_teams_new_format_with_advance PASSED [ 88%]
tests/test_generate_matches.py::TestLoadTeams::test_load_teams_mixed_format PASSED [ 89%]
tests/test_generate_matches.py::TestLoadTeams::test_load_teams_new_format_empty_teams_list PASSED [ 89%]
tests/test_integration.py::TestFullScheduling::test_simple_tournament_all_matches_scheduled PASSED [ 90%]
tests/test_integration.py::TestFullScheduling::test_all_constraints_respected_after_scheduling PASSED [ 90%]
tests/test_integration.py::TestFullScheduling::test_no_team_plays_concurrent_matches PASSED [ 91%]
tests/test_integration.py::TestFullScheduling::test_minimum_break_respected PASSED [ 91%]
tests/test_integration.py::TestLargeTournament::test_large_tournament_scheduling PASSED [ 92%]
tests/test_integration.py::TestLargeTournament::test_multi_day_distribution PASSED [ 93%]
